(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);new class{constructor(e,t){this.options=Object.assign({},t),this.selector=e,this.burger=document.querySelector(".burger"),this.burger&&(this.focusElements=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.header=document.querySelector(".header"),this.menu=this.header.querySelector(".header__content")),this.keys={escape:27,tab:9},this.init(),this.events()}init(){this.burger.setAttribute("aria-expanded",!1),this.burger.setAttribute("aria-label","Открыть меню")}events(){this.burger.addEventListener("click",(e=>{let t="true"===this.burger.getAttribute("aria-expanded");this.burgerToggle(t)})),document.addEventListener("keydown",(e=>{if(this.burger.classList.contains("burger--active")&&(e.which===this.keys.escape&&(this.burgerToggle(!0),this.burger.focus()),e.shiftKey&&e.which===this.keys.tab||e.which===this.keys.tab)){this.menuFocusElements=this.menu.querySelectorAll(this.focusElements),this.menuFocusArray=Array.prototype.slice.call(this.menuFocusElements),this.menuFocusArray.push(this.burger);let t=this.menuFocusArray.indexOf(e.target),s=e.shiftKey&&e.which===this.keys.tab?-1:1,i=this.menuFocusArray.length,r=(t+i+s)%i;this.menuFocusArray[r].focus(),e.preventDefault()}}))}burgerToggle(e){this.burger.setAttribute("aria-expanded",!e),e?this.burger.setAttribute("aria-label","Открыть меню"):this.burger.setAttribute("aria-label","Закрыть меню"),this.burger.classList.toggle("burger--active"),this.header.classList.toggle("header--bg"),this.menu.classList.toggle("menu--open"),document.documentElement.classList.toggle("lock")}};const t=document.querySelector(".header");window.addEventListener("scroll",(()=>{window.pageYOffset>10?t.classList.add("header--scroll"):t.classList.remove("header--scroll")})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();